service: aws-python-flask-api

frameworkVersion: '3'

custom:
  wsgi:
    app: app.app

provider:
  name: aws
  runtime: python3.8
  environment:
  
functions:
  api:
    handler: wsgi_handler.handler
    # layers:
    #   - arn:aws:lambda:us-west-1:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:ca-central-1:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:us-east-1:898466741470:layer:psycopg2-py38:2
    #   - arn:aws:lambda:us-east-2:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:us-west-1:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:us-west-2:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:eu-west-1:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:eu-west-2:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:eu-west-3:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:eu-central-1:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:eu-south-1:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:ap-northeast-1:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:ap-southeast-1:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:ap-southeast-2:898466741470:layer:psycopg2-py38:1
    #   - arn:aws:lambda:sa-east-1:898466741470:layer:psycopg2-py38:1
    events:
      - httpApi: '*'

plugins:
  - serverless-wsgi
  - serverless-python-requirements




